/*
Copyright (c) 2019 Daybrush
name: css-styled
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-styled.git
version: 1.0.0
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).styled=n()}(this,function(){"use strict";var e=function(e){for(var n=5381,t=e.length;t;)n=33*n^e.charCodeAt(--t);return n>>>0},c=['"',"'",'\\"',"\\'"];function d(e,n,t,r){for(var o=t;o<r;++o){var i=n[o].trim();if(i===e)return o;var u=o;if("("===i?u=d(")",n,o+1,r):-1<c.indexOf(i)&&(u=d(i,n,o+1,r)),-1===u)break;o=u}return-1}function s(e){return function(e,n){for(var t=new RegExp("(\\s*"+(n||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(t).filter(Boolean),o=r.length,i=[],u=[],f=0;f<o;++f){var l=r[f].trim(),a=f;if("("===l)a=d(")",r,f+1,o);else{if(")"===l)throw new Error("invalid format");if(-1<c.indexOf(l))a=d(l,r,f+1,o);else if(l===n){u.length&&(i.push(u.join("")),u=[]);continue}}-1===a&&(a=o-1),u.push(r.slice(f,a+1).join("")),f=a}return u.length&&i.push(u.join("")),i}(e,",")}function p(e,n,t,r,o){var i=o?document.querySelector(o):null,u=i?i.contentDocument:document;console.log(u);var f,l,a=u.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",e),t.nonce&&a.setAttribute("nonce",t.nonce),a.innerHTML=(f=e,l=n,t.original?l:l.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(e,n){var t=n.trim();return(t?s(t):[""]).map(function(e){var n=e.trim();return 0===n.indexOf("@")?n:-1<n.indexOf(":global")?n.replace(/\:global/g,""):-1<n.indexOf(":host")?""+n.replace(/\:host/g,"."+f):n?"."+f+" "+n:"."+f}).join(", ")+" {"})),(r||u.head||u.body).appendChild(a),a}return function(i,u){var f,l="rCS"+e(i).toString(36),a=0;return{className:l,inject:function(e,n){void 0===n&&(n={});var t,r=function(e){if(e&&e.getRootNode){var n=e.getRootNode();if(11===n.nodeType)return n}}(e),o=0===a;return(r||o)&&(t=p(l,i,n,r,u)),o&&(f=t),r||++a,{destroy:function(){r?(e.removeChild(t),t=null):(0<a&&--a,0===a&&f&&(f.parentNode.removeChild(f),f=null))}}}}}});
//# sourceMappingURL=styled.min.js.map
