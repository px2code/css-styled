/*
Copyright (c) 2019 Daybrush
name: css-styled
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-styled.git
version: 1.0.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).styled=t()}(this,function(){"use strict";var e=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},c=['"',"'",'\\"',"\\'"];function d(e,t,n,r){for(var o=n;o<r;++o){var i=t[o].trim();if(i===e)return o;var u=o;if("("===i?u=d(")",t,o+1,r):-1<c.indexOf(i)&&(u=d(i,t,o+1,r)),-1===u)break;o=u}return-1}function a(e){return function(e,t){for(var n=new RegExp("(\\s*"+(t||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(n).filter(Boolean),o=r.length,i=[],u=[],f=0;f<o;++f){var l=r[f].trim(),a=f;if("("===l)a=d(")",r,f+1,o);else{if(")"===l)throw new Error("invalid format");if(-1<c.indexOf(l))a=d(l,r,f+1,o);else if(l===t){u.length&&(i.push(u.join("")),u=[]);continue}}-1===a&&(a=o-1),u.push(r.slice(f,a+1).join("")),f=a}return u.length&&i.push(u.join("")),i}(e,",")}function s(e,t,n,r,o){var i,u,f=document.querySelector(o).contentDocument,l=f.createElement("style");return l.setAttribute("type","text/css"),l.setAttribute("data-styled-id",e),n.nonce&&l.setAttribute("nonce",n.nonce),l.innerHTML=(i=e,u=t,n.original?u:u.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(e,t){var n=t.trim();return(n?a(n):[""]).map(function(e){var t=e.trim();return 0===t.indexOf("@")?t:-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+i):t?"."+i+" "+t:"."+i}).join(", ")+" {"})),(r||f.head||f.body).appendChild(l),l}return function(i,u){var f,l="rCS"+e(i).toString(36),a=0;return{className:l,inject:function(e,t){void 0===t&&(t={});var n,r=function(e){if(e&&e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(e),o=0===a;return(r||o)&&(n=s(l,i,t,r,u)),o&&(f=n),r||++a,{destroy:function(){r?(e.removeChild(n),n=null):(0<a&&--a,0===a&&f&&(f.parentNode.removeChild(f),f=null))}}}}}});
//# sourceMappingURL=styled.min.js.map
