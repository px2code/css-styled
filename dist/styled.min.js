/*
Copyright (c) 2019 Daybrush
name: css-styled
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-styled.git
version: 1.0.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).styled=t()}(this,function(){"use strict";var e=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},c=['"',"'",'\\"',"\\'"];function d(e,t,n,r){for(var o=n;o<r;++o){var i=t[o].trim();if(i===e)return o;var f=o;if("("===i?f=d(")",t,o+1,r):-1<c.indexOf(i)&&(f=d(i,t,o+1,r)),-1===f)break;o=f}return-1}function l(e){return function(e,t){for(var n=new RegExp("(\\s*"+(t||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(n).filter(Boolean),o=r.length,i=[],f=[],u=0;u<o;++u){var a=r[u].trim(),l=u;if("("===a)l=d(")",r,u+1,o);else{if(")"===a)throw new Error("invalid format");if(-1<c.indexOf(a))l=d(a,r,u+1,o);else if(a===t){f.length&&(i.push(f.join("")),f=[]);continue}}-1===l&&(l=o-1),f.push(r.slice(u,l+1).join("")),u=l}return f.length&&i.push(f.join("")),i}(e,",")}function s(e,t,n,r,o){var i,f,u=document.querySelector(o).contentDocument,a=u.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",e),n.nonce&&a.setAttribute("nonce",n.nonce),a.innerHTML=(i=e,f=t,n.original?f:f.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(e,t){var n=t.trim();return(n?l(n):[""]).map(function(e){var t=e.trim();return 0===t.indexOf("@")?t:-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+i):t?"."+i+" "+t:"."+i}).join(", ")+" {"})),(r||u.head||u.body).appendChild(a),a}return function(i,f){void 0===f&&(f="iframe[px-code-frame]");var u,a="rCS"+e(i).toString(36),l=0;return{className:a,inject:function(e,t){void 0===t&&(t={});var n,r=function(e){if(e&&e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(e),o=0===l;return(r||o)&&(n=s(a,i,t,r,f)),o&&(u=n),r||++l,{destroy:function(){r?(e.removeChild(n),n=null):(0<l&&--l,0===l&&u&&(u.parentNode.removeChild(u),u=null))}}}}}});
//# sourceMappingURL=styled.min.js.map
