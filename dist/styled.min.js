/*
Copyright (c) 2019 Daybrush
name: css-styled
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-styled.git
version: 1.0.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).styled=t()}(this,function(){"use strict";var e=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},c=['"',"'",'\\"',"\\'"];function d(e,t,n,r){for(var o=n;o<r;++o){var i=t[o].trim();if(i===e)return o;var f=o;if("("===i?f=d(")",t,o+1,r):-1<c.indexOf(i)&&(f=d(i,t,o+1,r)),-1===f)break;o=f}return-1}function a(e){return function(e,t){for(var n=new RegExp("(\\s*"+(t||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(n).filter(Boolean),o=r.length,i=[],f=[],u=0;u<o;++u){var a=r[u].trim(),l=u;if("("===a)l=d(")",r,u+1,o);else{if(")"===a)throw new Error("invalid format");if(-1<c.indexOf(a))l=d(a,r,u+1,o);else if(a===t){f.length&&(i.push(f.join("")),f=[]);continue}}-1===l&&(l=o-1),f.push(r.slice(u,l+1).join("")),u=l}return f.length&&i.push(f.join("")),i}(e,",")}function l(e,t,n,r){var o,i,f=document.querySelector("iframe[px-code-frame]").contentDocument,u=f.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("data-styled-id",e),n.nonce&&u.setAttribute("nonce",n.nonce),u.innerHTML=(o=e,i=t,n.original?i:i.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(e,t){var n=t.trim();return(n?a(n):[""]).map(function(e){var t=e.trim();return 0===t.indexOf("@")?t:-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+o):t?"."+o+" "+t:"."+o}).join(", ")+" {"})),(r||f.head||f.body).appendChild(u),u}return function(i){var f,u="rCS"+e(i).toString(36),a=0;return{className:u,inject:function(e,t){void 0===t&&(t={});var n,r=function(e){if(e&&e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(e),o=0===a;return(r||o)&&(n=l(u,i,t,r)),o&&(f=n),r||++a,{destroy:function(){r?(e.removeChild(n),n=null):(0<a&&--a,0===a&&f&&(f.parentNode.removeChild(f),f=null))}}}}}});
//# sourceMappingURL=styled.min.js.map
